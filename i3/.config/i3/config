# =========================
# ULTIMATE i3 CONFIG
# =========================

# Set Mod key to Alt
set $mod Mod1
font pango:JetBrainsMono Nerd Font 11

# Displays + Wallpaper + Picom
exec_always --no-startup-id sh -c '~/.screenlayout/defaultsetup.sh && feh --no-fehbg --bg-fill "$HOME/Pictures/image3.png" "$HOME/Pictures/image3.png" && sleep 0.5 && picom --config "$HOME/.config/picom/picom.conf"'



# ---------- Apps ----------
set $term kitty
set $browser firefox
set $menu rofi -show drun -show-icons

# ---------- General Behavior ----------
focus_follows_mouse no
mouse_warping none
workspace_auto_back_and_forth yes
new_window normal
new_float normal
hide_edge_borders both


# ---------- Keybindings ----------
# Apps
bindsym $mod+Return exec $term
bindsym $mod+space exec $menu
# bindsym $mod+Shift+b exec $browser
bindsym $mod+Shift+q kill

# Reload / restart / exit
bindsym $mod+Shift+c reload
bindsym $mod+Shift+r restart
bindsym $mod+Shift+e exec 'i3-nagbar -t warning -m 'Exit i3?' -b 'Yes' 'i3-msg exit'

# Movement (hjkl style)
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right

# Move windows
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

# Splits
bindsym $mod+v split v

bindsym $mod+f fullscreen toggle

# Workspaces 1â€“10
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"

bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9

bindsym $mod+Shift+1 move container to workspace $ws1; workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2; workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3; workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4; workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5; workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6; workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7; workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8; workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9; workspace $ws9

# Resize with arrows
bindsym $mod+r mode "resize"

mode "resize" {
    bindsym h resize shrink width 10 px or 10 ppt
    bindsym j resize grow height 10 px or 10 ppt
    bindsym k resize shrink height 10 px or 10 ppt
    bindsym l resize grow width 10 px or 10 ppt

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

# ---------- System ----------
# Volume
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioMute exec pactl set-sink-mute @DEFAULT_SINK@ toggle

# Brightness
bindsym XF86MonBrightnessUp exec brightnessctl set +10%
bindsym XF86MonBrightnessDown exec brightnessctl set 10%-

# Media
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous


# Remove Borders from windows

new_window pixel 1
new_float normal
for_window [class=".*"] border pixel 1



# Touchpad settings
exec --no-startup-id xinput set-prop "ELAN06FA:00 04F3:3280 Touchpad" "libinput Tapping Enabled" 1
exec --no-startup-id xinput set-prop "ELAN06FA:00 04F3:3280 Touchpad" "libinput Accel Speed" 0.3

# ---------- Screenshot ----------
bindsym $mod+Shift+s exec flameshot gui

# ---------- Bar ----------
bar {
    status_command i3blocks
    position top
    height 32
    tray_output none
    separator_symbol " "
    font pango:JetBrainsMono Nerd Font 15

    mode hide
    hidden_state hide
    modifier Mod4

colors {
        background #1d1f21
        statusline #ffffff
        separator  #666666

        focused_workspace  #ffffff #000000 #ffffff
        active_workspace   #aaaaaa #000000 #aaaaaa
        inactive_workspace #666666 #000000 #666666
        urgent_workspace   #ff0000 #000000 #ff0000
    }
}

bindsym $mod+0 bar mode toggle


